# Forgotten Gems Reminder

## ユーザーストーリー (User Story)

Diggerとして、「あとで聴く」に保存してから時間が経ったアイテムについて、定期的にリマインドしてほしい。なぜなら、保存したこと自体を忘れてしまい、良い音楽と出会う機会を逃したくないからだ。

## ゴール (Goals)

- ユーザーが「あとで聴く」リストに長期間保存したままになっているアイテム（曲、アルバム、アーティスト）を定期的にリマインドする。
- 保存した音楽を忘れてしまうことを防ぎ、試聴の機会を再提供する。
- 「あとで聴く」リストの活性化を促す。

## シナリオ (Scenarios)

**シナリオ1: 保存から一定期間経過したアイテムのリマインド**

**前提 (Given):**

- ユーザーはQrateMateにログインしており、「あとで聴く」リストに複数のアイテムが保存されている。
- 一部のアイテムは、保存されてから一定期間（例: 1ヶ月、3ヶ月）以上経過しており、まだ試聴されていない（または「今すぐ聴く」プレイリストで再生されていない）。
- ユーザーはリマインダー機能を有効にしている。

**操作 (When):**

1. QrateMateのバックグラウンド処理または定期タスクが実行される。
2. システムが、長期間未試聴のアイテムを「あとで聴く」リストから特定する。
3. 特定されたアイテムがリマインド対象となる。

**結果 (Then):**

- ユーザーに、対象アイテムに関する通知（アプリ内通知、プッシュ通知など）が送信される。
- 通知には、アイテム名やアーティスト名、「久しぶりに聴いてみませんか？」のようなメッセージが含まれる。
- 通知をタップすると、そのアイテムの詳細画面や、そのアイテムを含む「今すぐ聴く」プレイリスト作成画面に遷移する。

## 受け入れ条件 (Acceptance Criteria)

- 「あとで聴く」リストに保存後、一定期間（ユーザー設定可能またはシステムデフォルト）試聴されていないアイテムをリマインドする機能がある。
- リマインドは、アプリ内通知、プッシュ通知、または専用の「おすすめ」セクションなどでユーザーに提示される。
- ユーザーはリマインダーの頻度やオン/オフを設定できる。
- リマインドされたアイテムから、簡単に再生アクション（例: 「今すぐ聴く」に追加）に繋げられる。
- 一度リマインドされたアイテムが、短期間に何度もリマインドされないように配慮する。

## 技術的なメモ (任意)

- 各アイテムの保存日時、最終試聴日時（または「今すぐ聴く」プレイリストへの追加日時）を記録するデータモデル。
- 定期的なバックグラウンドタスク（例: Firebase Cloud Functions, サーバーサイドcronジョブ）でリマインド対象を抽出し、プッシュ通知を送信する。
- Firebase Cloud Messaging (FCM) などのプッシュ通知サービスを利用。
- アプリ内でのリマインド表示ロジック。

## 対象外 (任意)

- ユーザーの聴取履歴や好みを高度に分析して、「今聴くべき」と判断したアイテムをリマインドする機能（これはより高度なレコメンド機能）。
- リマインド対象をユーザーが細かくカスタマイズする機能（初期は期間ベースのシンプルなもの）。

# Related Music Discovery

## ユーザーストーリー (User Story)

Diggerとして、音楽を聴いている時に、今聴いている曲から派生して新しい音楽に出会うために、関連するアーティスト、アルバム、楽曲を知りたい。

## ゴール (Goals)

- ユーザーが現在聴いている曲や閲覧しているアイテム（曲、アルバム、アーティスト）に基づいて、関連性の高い他の音楽（アーティスト、アルバム、楽曲）を提示する。
- 音楽探索の深掘りを支援し、セレンディピティを促進する。
- Spotifyの「関連アーティスト」や「この曲を聴いている人はこんな曲も聴いています」のような機能をQrateMate内で提供する。

## シナリオ (Scenarios)

**シナリオ1: 再生中の曲に関連するアーティストを表示**

**前提 (Given):**

- ユーザーはQrateMateにログインし、特定の曲を再生中（または曲詳細を閲覧中）。

**操作 (When):**

1. ユーザーが再生中（または閲覧中）の曲の画面で「関連情報を表示」などのアクションを選択する。
2. QrateMateが、その曲のアーティストに関連する他のアーティストをリストアップして表示する。

**結果 (Then):**

- ユーザーに、関連アーティストのリストが表示される。
- 各関連アーティスト名をタップすると、そのアーティストの詳細情報や代表曲リストに遷移できる。
- 気に入った関連アーティストを「あとで聴く」に保存できる。

**シナリオ2: 表示中のアルバムに関連する他のアルバムを表示**

**前提 (Given):**

- ユーザーはQrateMateにログインし、特定のアルバム詳細を閲覧中。

**操作 (When):**

1. ユーザーがアルバム詳細画面で「関連アルバムを表示」などのアクションを選択する。
2. QrateMateが、そのアルバムとジャンルやアーティストが近い他のアルバムをリストアップして表示する。

**結果 (Then):**

- ユーザーに、関連アルバムのリストが表示される。
- 各関連アルバムをタップすると、そのアルバムの詳細情報に遷移できる。
- 気に入った関連アルバムを「あとで聴く」に保存できる。

## 受け入れ条件 (Acceptance Criteria)

- ユーザーが閲覧または再生している曲、アルバム、アーティストに対して、関連する他の音楽アイテム（曲、アルバム、アーティスト）を推薦する機能がある。
- 関連アイテムの推薦ロジックは、Spotify APIの関連情報（例: `GET /v1/artists/{id}/related-artists`, `GET /v1/recommendations`）や、QrateMate独自のロジックを組み合わせることができる。
- ユーザーは提示された関連アイテムから、詳細情報の閲覧や「あとで聴く」への保存が容易に行える。

## 技術的なメモ (任意)

- Spotify APIの以下のエンドポイントを活用:
  - `GET /v1/artists/{id}/related-artists`
  - `GET /v1/recommendations` (seed artists, seed tracks, seed genres を利用)
  - `GET /v1/artists/{id}/albums` (同じアーティストの他のアルバムなど)
- QrateMate内のユーザー行動データ（例: ある曲を聴いた人が次に聴いた曲）も将来的に関連性判断に利用可能。
- 関連アイテムの表示UI（例: カルーセル、リスト形式）。

## 対象外 (任意)

- 非常にニッチな関連性の提示（初期はSpotify APIの提供する関連性を主とする）。
- ユーザーが関連性のロジックを細かくカスタマイズする機能。 